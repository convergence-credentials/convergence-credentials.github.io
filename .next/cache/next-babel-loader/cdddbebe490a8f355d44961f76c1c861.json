{"ast":null,"code":"var _jsxFileName = \"/home/ajl/development/ssi/academic-creds/convergence-credentials.github.io/src/components/CertificateDropZone/Views/UnverifiedView.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport PropTypes from \"prop-types\";\nimport Link from \"next/link\";\nimport css from \"./viewerStyles.scss\";\n\nvar View = function View(_ref) {\n  var resetData = _ref.resetData,\n      storeStatus = _ref.storeStatus,\n      hashStatus = _ref.hashStatus,\n      issuedStatus = _ref.issuedStatus,\n      issuerIdentityStatus = _ref.issuerIdentityStatus,\n      notRevokedStatus = _ref.notRevokedStatus;\n\n  /* Array of error messages with priority of error messages determined by a stack. \n  Error messages are first placed into the stack and the error message with the highest priority is popped off the stack\n  and displayed.\n  \n  The priority of error messages are as follows:\n  1. Invalid store\n  2. Tampered\n  3. Not issued\n  4. Revoked */\n  var errorMessages = [{\n    title: \"Certificate revoked\",\n    message: \"This certificate has been revoked by your issuing institution. Please contact your issuing institution for more details.\",\n    error: !notRevokedStatus.verified\n  }, {\n    title: \"Certificate not issued\",\n    message: \"This certificate cannot be found. Please contact your issuing institution for help or issue the certificate before trying again.\",\n    error: !issuedStatus.verified\n  }, {\n    title: \"Certificate has been tampered with\",\n    message: \"The contents of this certificate are inaccurate and have been tampered with.\",\n    error: !hashStatus.verified\n  }, {\n    title: \"Certificate issuer identity invalid\",\n    message: \"This certificate was issued by an invalid issuer.\",\n    error: !issuerIdentityStatus.verified\n  }, {\n    title: \"Certificate store address is invalid\",\n    message: \"Please check that you have a valid smart contract with us and a correct certificate store address before proceeding.\",\n    error: !storeStatus.verified\n  }];\n  var stack = errorMessages.filter(function (errorMessage) {\n    return errorMessage.error === true;\n  });\n  var error = stack.pop();\n  var isWarning = hashStatus.verified && issuedStatus.verified && notRevokedStatus.verified && issuerIdentityStatus.verified;\n  return __jsx(\"div\", {\n    className: \"\".concat(css[\"viewer-container\"], \" \").concat(isWarning ? css.warning : css.invalid),\n    style: {\n      backgroundColor: isWarning ? \"#fbf6e9\" : \"#fbeae9\",\n      borderRadius: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    className: css[\"message-container\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, isWarning ? __jsx(\"img\", {\n    src: \"/static/images/dropzone/warning.svg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }) : __jsx(\"img\", {\n    src: \"/static/images/dropzone/invalid.svg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    className: \"\".concat(isWarning ? \"warning\" : \"invalid\", \" m-3\"),\n    style: {\n      fontSize: \"1.5rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, isWarning ? \"Certificate from unregistered institution\" : \"This certificate is not valid\")), __jsx(\"div\", {\n    className: css.verifications,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, error !== undefined ? __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    className: css.messages,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, error.title), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, error.message)) : null), __jsx(Link, {\n    href: \"/faq\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: css[\"unverified-btn\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"What should I do?\")), __jsx(\"div\", {\n    className: css[\"secondary-links\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \" \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    onClick: function onClick(e) {\n      e.preventDefault();\n      resetData();\n    },\n    className: css[\"text-link\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Try another\"))), isWarning ? __jsx(\"span\", {\n    onClick: function onClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      e.nativeEvent.stopImmediatePropagation();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/viewer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    id: \"certificate-view-anyway\",\n    className: css[\"text-link\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"View certificate anyway\"))) : \"\"));\n};\n\nView.propTypes = {\n  handleRenderOverwrite: PropTypes.func,\n  resetData: PropTypes.func,\n  document: PropTypes.object,\n  hashStatus: PropTypes.object,\n  issuedStatus: PropTypes.object,\n  notRevokedStatus: PropTypes.object,\n  issuerIdentityStatus: PropTypes.object,\n  storeStatus: PropTypes.object\n};\nexport default View;","map":{"version":3,"sources":["/home/ajl/development/ssi/academic-creds/convergence-credentials.github.io/src/components/CertificateDropZone/Views/UnverifiedView.js"],"names":["PropTypes","Link","css","View","resetData","storeStatus","hashStatus","issuedStatus","issuerIdentityStatus","notRevokedStatus","errorMessages","title","message","error","verified","stack","filter","errorMessage","pop","isWarning","warning","invalid","backgroundColor","borderRadius","fontSize","verifications","undefined","messages","e","preventDefault","stopPropagation","nativeEvent","stopImmediatePropagation","propTypes","handleRenderOverwrite","func","document","object"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\nimport Link from \"next/link\";\nimport css from \"./viewerStyles.scss\";\n\nconst View = ({\n  resetData,\n  storeStatus,\n  hashStatus,\n  issuedStatus,\n  issuerIdentityStatus,\n  notRevokedStatus\n}) => {\n  /* Array of error messages with priority of error messages determined by a stack. \n  Error messages are first placed into the stack and the error message with the highest priority is popped off the stack\n  and displayed.\n  \n  The priority of error messages are as follows:\n  1. Invalid store\n  2. Tampered\n  3. Not issued\n  4. Revoked */\n  const errorMessages = [\n    {\n      title: \"Certificate revoked\",\n      message:\n        \"This certificate has been revoked by your issuing institution. Please contact your issuing institution for more details.\",\n      error: !notRevokedStatus.verified\n    },\n    {\n      title: \"Certificate not issued\",\n      message:\n        \"This certificate cannot be found. Please contact your issuing institution for help or issue the certificate before trying again.\",\n      error: !issuedStatus.verified\n    },\n    {\n      title: \"Certificate has been tampered with\",\n      message:\n        \"The contents of this certificate are inaccurate and have been tampered with.\",\n      error: !hashStatus.verified\n    },\n    {\n      title: \"Certificate issuer identity invalid\",\n      message: \"This certificate was issued by an invalid issuer.\",\n      error: !issuerIdentityStatus.verified\n    },\n    {\n      title: \"Certificate store address is invalid\",\n      message:\n        \"Please check that you have a valid smart contract with us and a correct certificate store address before proceeding.\",\n      error: !storeStatus.verified\n    }\n  ];\n\n  const stack = errorMessages.filter(\n    errorMessage => errorMessage.error === true\n  );\n  const error = stack.pop();\n\n  const isWarning =\n    hashStatus.verified &&\n    issuedStatus.verified &&\n    notRevokedStatus.verified &&\n    issuerIdentityStatus.verified;\n  return (\n    <div\n      className={`${css[\"viewer-container\"]} ${\n        isWarning ? css.warning : css.invalid\n      }`}\n      style={{\n        backgroundColor: isWarning ? \"#fbf6e9\" : \"#fbeae9\",\n        borderRadius: 10\n      }}\n    >\n      <span className={css[\"message-container\"]}>\n        {isWarning ? (\n          <img src=\"/static/images/dropzone/warning.svg\" />\n        ) : (\n          <img src=\"/static/images/dropzone/invalid.svg\" />\n        )}\n        <span\n          className={`${isWarning ? \"warning\" : \"invalid\"} m-3`}\n          style={{ fontSize: \"1.5rem\" }}\n        >\n          {isWarning\n            ? \"Certificate from unregistered institution\"\n            : \"This certificate is not valid\"}\n        </span>\n      </span>\n\n      <div className={css.verifications}>\n        {error !== undefined ? (\n          <div>\n            <p className={css.messages}>{error.title}</p>\n            <p>{error.message}</p>\n          </div>\n        ) : null}\n      </div>\n\n      <Link href=\"/faq\">\n        <div className={css[\"unverified-btn\"]}>What should I do?</div>\n      </Link>\n\n      <div className={css[\"secondary-links\"]}>\n        <span>\n          <Link href=\" \">\n            <a\n              onClick={e => {\n                e.preventDefault();\n                resetData();\n              }}\n              className={css[\"text-link\"]}\n            >\n              Try another\n            </a>\n          </Link>\n        </span>\n        {isWarning ? (\n          <span\n            onClick={e => {\n              e.preventDefault();\n              e.stopPropagation();\n              e.nativeEvent.stopImmediatePropagation();\n            }}\n          >\n            <Link href=\"/viewer\">\n              <a id=\"certificate-view-anyway\" className={css[\"text-link\"]}>\n                View certificate anyway\n              </a>\n            </Link>\n          </span>\n        ) : (\n          \"\"\n        )}\n      </div>\n    </div>\n  );\n};\n\nView.propTypes = {\n  handleRenderOverwrite: PropTypes.func,\n  resetData: PropTypes.func,\n  document: PropTypes.object,\n\n  hashStatus: PropTypes.object,\n  issuedStatus: PropTypes.object,\n  notRevokedStatus: PropTypes.object,\n  issuerIdentityStatus: PropTypes.object,\n  storeStatus: PropTypes.object\n};\n\nexport default View;\n"]},"metadata":{},"sourceType":"module"}