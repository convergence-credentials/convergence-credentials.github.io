{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\nimport { CAPTCHA_CLIENT_KEY } from \"../../config\";\nimport css from \"./sharing.scss\";\nimport { states } from \"../../reducers/certificate\";\n\nclass CertificateSharingForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      captcha: \"\",\n      email: \"\"\n    };\n    this.handleCaptchaChange = this.handleCaptchaChange.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleSend = this.handleSend.bind(this);\n  }\n\n  handleCaptchaChange(value) {\n    this.setState({\n      captcha: value\n    });\n  }\n\n  handleEmailChange(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  handleSend() {\n    const {\n      handleSendCertificate,\n      emailSendingState\n    } = this.props;\n\n    if (emailSendingState !== states.PENDING) {\n      handleSendCertificate({\n        email: this.state.email,\n        captcha: this.state.captcha\n      });\n    }\n  }\n\n  render() {\n    const {\n      emailSendingState\n    } = this.props;\n    return __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-2\"\n    }), __jsx(\"div\", {\n      className: \"col-8\"\n    }, __jsx(\"div\", {\n      className: \"row d-flex justify-content-center\"\n    }, __jsx(\"h4\", null, \"Send your certificate\")), __jsx(\"div\", {\n      className: \"row text-center\"\n    }, \"This sends an email with your .opencert attached, and instructions on how to view it.\"), __jsx(\"div\", {\n      className: \"row my-4 d-flex justify-content-center\"\n    }, __jsx(\"input\", {\n      className: \"w-100\",\n      value: this.state.emailAddress,\n      onChange: this.handleEmailChange,\n      placeholder: \"Enter recipient's email\"\n    })), __jsx(\"div\", {\n      className: \"row d-flex justify-content-center m-3\"\n    }, __jsx(ReCAPTCHA, {\n      sitekey: CAPTCHA_CLIENT_KEY,\n      onChange: this.handleCaptchaChange\n    })), emailSendingState === states.SUCCESS ? __jsx(\"div\", {\n      className: \"row my-4 d-flex justify-content-center\"\n    }, \"Email successfully sent!\") : \"\", emailSendingState === states.FAILURE ? __jsx(\"div\", {\n      className: \"row my-4 d-flex justify-content-center\"\n    }, \"An error occured, please check your email and captcha\") : \"\", __jsx(\"div\", {\n      className: \"row d-flex justify-content-center m-3\"\n    }, __jsx(\"button\", {\n      type: \"button\",\n      className: `pointer ${css.btn}`,\n      onClick: this.handleSend\n    }, \"Send\", emailSendingState === states.PENDING ? __jsx(\"i\", {\n      className: \"ml-2 fas fa-spinner fa-pulse\"\n    }) : \"\")))));\n  }\n\n}\n\nexport default CertificateSharingForm;","map":null,"metadata":{},"sourceType":"module"}