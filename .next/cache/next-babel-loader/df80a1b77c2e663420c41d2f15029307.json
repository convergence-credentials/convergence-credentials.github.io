{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nexport var states = {\n  INITIAL: \"INITIAL\",\n  PENDING: \"PENDING\",\n  SUCCESS: \"SUCCESS\",\n  FAILURE: \"FAILURE\"\n};\nexport var initialState = {\n  raw: null,\n  rawModified: null,\n  store: null,\n  storeError: null,\n  storeLoading: false,\n  issuerIdentities: null,\n  certificateHash: false,\n  certificateIssued: false,\n  certificateNotRevoked: false,\n  certificateIssuer: false,\n  certificateStore: false,\n  certificateHashVerifying: false,\n  certificateIssuedVerifying: false,\n  certificateNotRevokedVerifying: false,\n  certificateIssuerVerifying: false,\n  certificateStoreVerifying: false,\n  certificateHashError: null,\n  certificateIssuedError: null,\n  certificateNotRevokedError: null,\n  certificateIssuerError: null,\n  certificateStoreError: null,\n  verificationStatus: [],\n  emailState: states.INITIAL,\n  emailError: null,\n  templates: null,\n  activeTemplateTab: 0\n}; // Actions\n\nexport var types = {\n  RESET_CERTIFICATE: \"RESET_CERTIFICATE\",\n  NETWORK_RESET: \"NETWORK_RESET\",\n  // For network change\n  UPDATE_CERTIFICATE: \"UPDATE_CERTIFICATE\",\n  LOADING_STORE_SUCCESS: \"LOADING_STORE_SUCCESS\",\n  LOADING_STORE_FAILURE: \"LOADING_STORE_FAILURE\",\n  VERIFYING_CERTIFICATE: \"VERIFYING_CERTIFICATE\",\n  VERIFYING_CERTIFICATE_HASH_SUCCESS: \"VERIFYING_CERTIFICATE_HASH_SUCCESS\",\n  VERIFYING_CERTIFICATE_HASH_FAILURE: \"VERIFYING_CERTIFICATE_HASH_FAILURE\",\n  VERIFYING_CERTIFICATE_ISSUED_SUCCESS: \"VERIFYING_CERTIFICATE_ISSUED_SUCCESS\",\n  VERIFYING_CERTIFICATE_ISSUED_FAILURE: \"VERIFYING_CERTIFICATE_ISSUED_FAILURE\",\n  VERIFYING_CERTIFICATE_REVOCATION_SUCCESS: \"VERIFYING_CERTIFICATE_REVOCATION_SUCCESS\",\n  VERIFYING_CERTIFICATE_REVOCATION_FAILURE: \"VERIFYING_CERTIFICATE_REVOCATION_FAILURE\",\n  VERIFYING_CERTIFICATE_ISSUER_SUCCESS: \"VERIFYING_CERTIFICATE_ISSUER_SUCCESS\",\n  VERIFYING_CERTIFICATE_ISSUER_FAILURE: \"VERIFYING_CERTIFICATE_ISSUER_FAILURE\",\n  VERIFYING_CERTIFICATE_STORE_SUCCESS: \"VERIFYING_CERTIFICATE_STORE_SUCCESS\",\n  VERIFYING_CERTIFICATE_STORE_FAILURE: \"VERIFYING_CERTIFICATE_STORE_FAILURE\",\n  SENDING_CERTIFICATE: \"SENDING_CERTIFICATE\",\n  SENDING_CERTIFICATE_SUCCESS: \"SENDING_CERTIFICATE_SUCCESS\",\n  SENDING_CERTIFICATE_FAILURE: \"SENDING_CERTIFICATE_FAILURE\",\n  SENDING_CERTIFICATE_RESET: \"SENDING_CERTIFICATE_RESET\",\n  CERTIFICATE_OBFUSCATE_RESET: \"CERTIFICATE_OBFUSCATE_RESET\",\n  CERTIFICATE_OBFUSCATE_UPDATE: \"CERTIFICATE_OBFUSCATE_UPDATE\",\n  CERTIFICATE_TEMPLATE_REGISTER: \"CERTIFICATE_TEMPLATE_REGISTER\",\n  CERTIFICATE_TEMPLATE_SELECT_TAB: \"CERTIFICATE_TEMPLATE_SELECT_TAB\"\n}; // Reducers\n\nexport default function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case types.RESET_CERTIFICATE:\n    case types.NETWORK_RESET:\n      return _objectSpread({}, initialState);\n\n    case types.UPDATE_CERTIFICATE:\n      return _objectSpread({}, initialState, {\n        raw: action.payload,\n        rawModified: action.payload,\n        store: null,\n        storeError: null,\n        storeLoading: true\n      });\n\n    case types.LOADING_STORE_SUCCESS:\n      return _objectSpread({}, state, {\n        store: action.payload,\n        storeError: null,\n        storeLoading: false\n      });\n\n    case types.LOADING_STORE_FAILURE:\n      return _objectSpread({}, state, {\n        storeError: action.payload,\n        storeLoading: false\n      });\n\n    case types.VERIFYING_CERTIFICATE:\n      return _objectSpread({}, state, {\n        issuerIdentities: null,\n        certificateHash: false,\n        certificateIssued: false,\n        certificateNotRevoked: false,\n        certificateIssuer: false,\n        certificateStore: false,\n        certificateHashVerifying: true,\n        certificateIssuedVerifying: true,\n        certificateNotRevokedVerifying: true,\n        certificateIssuerVerifying: true,\n        certificateStoreVerifying: true,\n        certificateHashError: null,\n        certificateIssuedError: null,\n        certificateNotRevokedError: null,\n        certificateIssuerError: null,\n        certificateStoreError: null,\n        verificationStatus: []\n      });\n\n    case types.VERIFYING_CERTIFICATE_HASH_SUCCESS:\n      return _objectSpread({}, state, {\n        certificateHash: true,\n        certificateHashError: null,\n        certificateHashVerifying: false,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Certificate integrity checked\",\n          warning: false,\n          error: false\n        }])\n      });\n\n    case types.VERIFYING_CERTIFICATE_HASH_FAILURE:\n      return _objectSpread({}, state, {\n        certificateHash: false,\n        certificateHashError: action.payload,\n        certificateHashVerifying: false,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Certificate has been tampered\",\n          warning: false,\n          error: true\n        }])\n      });\n\n    case types.VERIFYING_CERTIFICATE_ISSUED_SUCCESS:\n      return _objectSpread({}, state, {\n        certificateIssued: true,\n        certificateIssuedError: null,\n        certificateIssuedVerifying: false,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Certificate has been issued\",\n          warning: false,\n          error: false\n        }])\n      });\n\n    case types.VERIFYING_CERTIFICATE_ISSUED_FAILURE:\n      return _objectSpread({}, state, {\n        certificateIssued: false,\n        certificateIssuedError: action.payload,\n        certificateIssuedVerifying: false,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Certificate is not issued\",\n          warning: false,\n          error: true\n        }])\n      });\n\n    case types.VERIFYING_CERTIFICATE_REVOCATION_SUCCESS:\n      return _objectSpread({}, state, {\n        certificateNotRevoked: true,\n        certificateNotRevokedError: null,\n        certificateNotRevokedVerifying: false,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Certificate is issued\",\n          warning: false,\n          error: false\n        }])\n      });\n\n    case types.VERIFYING_CERTIFICATE_REVOCATION_FAILURE:\n      return _objectSpread({}, state, {\n        certificateNotRevoked: false,\n        certificateNotRevokedError: action.payload,\n        certificateNotRevokedVerifying: false,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Certificate has been revoked\",\n          warning: false,\n          error: true\n        }])\n      });\n\n    case types.VERIFYING_CERTIFICATE_ISSUER_SUCCESS:\n      return _objectSpread({}, state, {\n        issuerIdentities: action.payload,\n        certificateIssuer: true,\n        certificateIssuerVerifying: false,\n        certificateIssuerError: null,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Known certificate issuer\",\n          warning: false,\n          error: false\n        }])\n      });\n\n    case types.VERIFYING_CERTIFICATE_ISSUER_FAILURE:\n      return _objectSpread({}, state, {\n        certificateIssuer: false,\n        certificateIssuerVerifying: false,\n        certificateIssuerError: action.payload,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Unknown certificate issuer\",\n          warning: false,\n          error: false\n        }])\n      });\n\n    case types.VERIFYING_CERTIFICATE_STORE_SUCCESS:\n      return _objectSpread({}, state, {\n        certificateStore: true,\n        certificateStoreError: null,\n        certificateStoreVerifying: false,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Certificate store checked\",\n          warning: false,\n          error: false\n        }])\n      });\n\n    case types.VERIFYING_CERTIFICATE_STORE_FAILURE:\n      return _objectSpread({}, state, {\n        certificateStore: false,\n        certificateStoreError: action.payload,\n        certificateStoreVerifying: false,\n        verificationStatus: [].concat(_toConsumableArray(state.verificationStatus), [{\n          message: \"Certificate store does not exist\",\n          warning: false,\n          error: true\n        }])\n      });\n\n    case types.SENDING_CERTIFICATE:\n      return _objectSpread({}, state, {\n        emailState: states.PENDING,\n        emailError: null\n      });\n\n    case types.SENDING_CERTIFICATE_RESET:\n      return _objectSpread({}, state, {\n        emailState: states.INITIAL,\n        emailError: null\n      });\n\n    case types.SENDING_CERTIFICATE_SUCCESS:\n      return _objectSpread({}, state, {\n        emailState: states.SUCCESS,\n        emailError: null\n      });\n\n    case types.SENDING_CERTIFICATE_FAILURE:\n      return _objectSpread({}, state, {\n        emailState: states.FAILURE,\n        emailError: action.payload\n      });\n\n    case types.CERTIFICATE_OBFUSCATE_RESET:\n      return _objectSpread({}, initialState, {\n        rawModified: state.raw\n      });\n\n    case types.CERTIFICATE_OBFUSCATE_UPDATE:\n      return _objectSpread({}, state, {\n        rawModified: action.payload\n      });\n\n    case types.CERTIFICATE_TEMPLATE_REGISTER:\n      return _objectSpread({}, state, {\n        templates: action.payload\n      });\n\n    case types.CERTIFICATE_TEMPLATE_SELECT_TAB:\n      return _objectSpread({}, state, {\n        activeTemplateTab: action.payload\n      });\n\n    default:\n      return state;\n  }\n} // Action Creators\n\nexport function resetCertificateState() {\n  return {\n    type: types.RESET_CERTIFICATE\n  };\n}\nexport function updateCertificate(payload) {\n  return {\n    type: types.UPDATE_CERTIFICATE,\n    payload: payload\n  };\n}\nexport function verifyCertificate(payload) {\n  return {\n    type: types.VERIFYING_CERTIFICATE,\n    payload: payload\n  };\n}\nexport function updateFilteredCertificate(payload) {\n  return {\n    type: types.UPDATE_FILTERED_CERTIFICATE,\n    payload: payload\n  };\n}\nexport function verifyingCertificateIssuerSuccess(_ref) {\n  var issuerIdentities = _ref.issuerIdentities;\n  return {\n    type: types.VERIFYING_CERTIFICATE_ISSUER_SUCCESS,\n    payload: issuerIdentities\n  };\n}\nexport function verifyingCertificateIssuerFailure(_ref2) {\n  var error = _ref2.error;\n  return {\n    type: types.VERIFYING_CERTIFICATE_ISSUER_FAILURE,\n    error: error\n  };\n}\nexport function verifyingCertificateStoreSuccess() {\n  return {\n    type: types.VERIFYING_CERTIFICATE_STORE_SUCCESS\n  };\n}\nexport function verifyingCertificateStoreFailure(_ref3) {\n  var error = _ref3.error;\n  return {\n    type: types.VERIFYING_CERTIFICATE_STORE_FAILURE,\n    error: error\n  };\n}\nexport function verifyingCertificateRevocationSuccess() {\n  return {\n    type: types.VERIFYING_CERTIFICATE_REVOCATION_SUCCESS\n  };\n}\nexport function verifyingCertificateRevocationFailure(_ref4) {\n  var error = _ref4.error;\n  return {\n    type: types.VERIFYING_CERTIFICATE_REVOCATION_FAILURE,\n    error: error\n  };\n}\nexport function verifyingCertificateIssuedSuccess() {\n  return {\n    type: types.VERIFYING_CERTIFICATE_ISSUED_SUCCESS\n  };\n}\nexport function verifyingCertificateIssuedFailure(_ref5) {\n  var error = _ref5.error;\n  return {\n    type: types.VERIFYING_CERTIFICATE_ISSUED_FAILURE,\n    error: error\n  };\n}\nexport function verifyingCertificateHashSuccess() {\n  return {\n    type: types.VERIFYING_CERTIFICATE_HASH_SUCCESS\n  };\n}\nexport function verifyingCertificateHashFailure(_ref6) {\n  var error = _ref6.error;\n  return {\n    type: types.VERIFYING_CERTIFICATE_HASH_FAILURE,\n    error: error\n  };\n}\nexport function sendCertificate(payload) {\n  return {\n    type: types.SENDING_CERTIFICATE,\n    payload: payload\n  };\n}\nexport function sendCertificateReset() {\n  return {\n    type: types.SENDING_CERTIFICATE_RESET\n  };\n}\nexport function resetCertificateObfuscation() {\n  return {\n    type: types.CERTIFICATE_OBFUSCATE_RESET\n  };\n}\nexport function updateObfuscatedCertificate(payload) {\n  return {\n    type: types.CERTIFICATE_OBFUSCATE_UPDATE,\n    payload: payload\n  };\n}\nexport function registerTemplates(payload) {\n  return {\n    type: types.CERTIFICATE_TEMPLATE_REGISTER,\n    payload: payload\n  };\n}\nexport function selectTemplateTab(payload) {\n  return {\n    type: types.CERTIFICATE_TEMPLATE_SELECT_TAB,\n    payload: payload\n  };\n} // Selectors\n\nexport function getIssuerIdentityStatus(store) {\n  var _store$certificate = store.certificate,\n      issuerIdentities = _store$certificate.issuerIdentities,\n      certificateIssuerVerifying = _store$certificate.certificateIssuerVerifying,\n      certificateIssuerError = _store$certificate.certificateIssuerError,\n      certificateIssuer = _store$certificate.certificateIssuer;\n  return {\n    identities: issuerIdentities,\n    verified: certificateIssuer,\n    verifying: certificateIssuerVerifying,\n    error: certificateIssuerError\n  };\n}\nexport function getHashStatus(store) {\n  var _store$certificate2 = store.certificate,\n      certificateHash = _store$certificate2.certificateHash,\n      certificateHashError = _store$certificate2.certificateHashError,\n      certificateHashVerifying = _store$certificate2.certificateHashVerifying;\n  return {\n    verified: certificateHash,\n    verifying: certificateHashVerifying,\n    error: certificateHashError\n  };\n}\nexport function getStoreStatus(store) {\n  var _store$certificate3 = store.certificate,\n      certificateStore = _store$certificate3.certificateStore,\n      certificateStoreError = _store$certificate3.certificateStoreError,\n      certificateStoreVerifying = _store$certificate3.certificateStoreVerifying;\n  return {\n    verified: certificateStore,\n    verifying: certificateStoreVerifying,\n    error: certificateStoreError\n  };\n}\nexport function getIssuedStatus(store) {\n  var _store$certificate4 = store.certificate,\n      certificateIssued = _store$certificate4.certificateIssued,\n      certificateIssuedError = _store$certificate4.certificateIssuedError,\n      certificateIssuedVerifying = _store$certificate4.certificateIssuedVerifying;\n  return {\n    verified: certificateIssued,\n    verifying: certificateIssuedVerifying,\n    error: certificateIssuedError\n  };\n}\nexport function getNotRevokedStatus(store) {\n  var _store$certificate5 = store.certificate,\n      certificateNotRevoked = _store$certificate5.certificateNotRevoked,\n      certificateNotRevokedError = _store$certificate5.certificateNotRevokedError,\n      certificateNotRevokedVerifying = _store$certificate5.certificateNotRevokedVerifying;\n  return {\n    verified: certificateNotRevoked,\n    verifying: certificateNotRevokedVerifying,\n    error: certificateNotRevokedError\n  };\n}\nexport function getCertificate(store) {\n  return store.certificate.rawModified;\n}\nexport function getVerifying(store) {\n  var _store$certificate6 = store.certificate,\n      certificateIssuerVerifying = _store$certificate6.certificateIssuerVerifying,\n      certificateHashVerifying = _store$certificate6.certificateHashVerifying,\n      certificateIssuedVerifying = _store$certificate6.certificateIssuedVerifying,\n      certificateNotRevokedVerifying = _store$certificate6.certificateNotRevokedVerifying,\n      certificateStoreVerifying = _store$certificate6.certificateStoreVerifying;\n  return certificateIssuerVerifying || certificateHashVerifying || certificateIssuedVerifying || certificateNotRevokedVerifying || certificateStoreVerifying;\n}\nexport function getVerified(store) {\n  var hash = getHashStatus(store).verified;\n  var issued = getIssuedStatus(store).verified;\n  var notRevoked = getNotRevokedStatus(store).verified;\n  var identity = getIssuerIdentityStatus(store).verified;\n  var storeStatus = getStoreStatus(store).verified;\n  return hash && issued && notRevoked && identity && storeStatus;\n}\nexport function getVerificationStatus(store) {\n  return store.certificate.verificationStatus;\n}\nexport function getEmailSendingState(store) {\n  return store.certificate.emailState;\n}\nexport function getActiveTemplateTab(store) {\n  return store.certificate.activeTemplateTab;\n}\nexport function getTemplates(store) {\n  return store.certificate.templates;\n}","map":{"version":3,"sources":["/home/ajl/development/ssi/academic-creds/convergence-credentials.github.io/src/reducers/certificate.js"],"names":["states","INITIAL","PENDING","SUCCESS","FAILURE","initialState","raw","rawModified","store","storeError","storeLoading","issuerIdentities","certificateHash","certificateIssued","certificateNotRevoked","certificateIssuer","certificateStore","certificateHashVerifying","certificateIssuedVerifying","certificateNotRevokedVerifying","certificateIssuerVerifying","certificateStoreVerifying","certificateHashError","certificateIssuedError","certificateNotRevokedError","certificateIssuerError","certificateStoreError","verificationStatus","emailState","emailError","templates","activeTemplateTab","types","RESET_CERTIFICATE","NETWORK_RESET","UPDATE_CERTIFICATE","LOADING_STORE_SUCCESS","LOADING_STORE_FAILURE","VERIFYING_CERTIFICATE","VERIFYING_CERTIFICATE_HASH_SUCCESS","VERIFYING_CERTIFICATE_HASH_FAILURE","VERIFYING_CERTIFICATE_ISSUED_SUCCESS","VERIFYING_CERTIFICATE_ISSUED_FAILURE","VERIFYING_CERTIFICATE_REVOCATION_SUCCESS","VERIFYING_CERTIFICATE_REVOCATION_FAILURE","VERIFYING_CERTIFICATE_ISSUER_SUCCESS","VERIFYING_CERTIFICATE_ISSUER_FAILURE","VERIFYING_CERTIFICATE_STORE_SUCCESS","VERIFYING_CERTIFICATE_STORE_FAILURE","SENDING_CERTIFICATE","SENDING_CERTIFICATE_SUCCESS","SENDING_CERTIFICATE_FAILURE","SENDING_CERTIFICATE_RESET","CERTIFICATE_OBFUSCATE_RESET","CERTIFICATE_OBFUSCATE_UPDATE","CERTIFICATE_TEMPLATE_REGISTER","CERTIFICATE_TEMPLATE_SELECT_TAB","reducer","state","action","type","payload","message","warning","error","resetCertificateState","updateCertificate","verifyCertificate","updateFilteredCertificate","UPDATE_FILTERED_CERTIFICATE","verifyingCertificateIssuerSuccess","verifyingCertificateIssuerFailure","verifyingCertificateStoreSuccess","verifyingCertificateStoreFailure","verifyingCertificateRevocationSuccess","verifyingCertificateRevocationFailure","verifyingCertificateIssuedSuccess","verifyingCertificateIssuedFailure","verifyingCertificateHashSuccess","verifyingCertificateHashFailure","sendCertificate","sendCertificateReset","resetCertificateObfuscation","updateObfuscatedCertificate","registerTemplates","selectTemplateTab","getIssuerIdentityStatus","certificate","identities","verified","verifying","getHashStatus","getStoreStatus","getIssuedStatus","getNotRevokedStatus","getCertificate","getVerifying","getVerified","hash","issued","notRevoked","identity","storeStatus","getVerificationStatus","getEmailSendingState","getActiveTemplateTab","getTemplates"],"mappings":"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","sourcesContent":["export const states = {\n  INITIAL: \"INITIAL\",\n  PENDING: \"PENDING\",\n  SUCCESS: \"SUCCESS\",\n  FAILURE: \"FAILURE\"\n};\n\nexport const initialState = {\n  raw: null,\n  rawModified: null,\n  store: null,\n  storeError: null,\n  storeLoading: false,\n\n  issuerIdentities: null,\n  certificateHash: false,\n  certificateIssued: false,\n  certificateNotRevoked: false,\n  certificateIssuer: false,\n  certificateStore: false,\n\n  certificateHashVerifying: false,\n  certificateIssuedVerifying: false,\n  certificateNotRevokedVerifying: false,\n  certificateIssuerVerifying: false,\n  certificateStoreVerifying: false,\n\n  certificateHashError: null,\n  certificateIssuedError: null,\n  certificateNotRevokedError: null,\n  certificateIssuerError: null,\n  certificateStoreError: null,\n\n  verificationStatus: [],\n\n  emailState: states.INITIAL,\n  emailError: null,\n\n  templates: null,\n  activeTemplateTab: 0\n};\n\n// Actions\nexport const types = {\n  RESET_CERTIFICATE: \"RESET_CERTIFICATE\",\n  NETWORK_RESET: \"NETWORK_RESET\", // For network change\n\n  UPDATE_CERTIFICATE: \"UPDATE_CERTIFICATE\",\n\n  LOADING_STORE_SUCCESS: \"LOADING_STORE_SUCCESS\",\n  LOADING_STORE_FAILURE: \"LOADING_STORE_FAILURE\",\n\n  VERIFYING_CERTIFICATE: \"VERIFYING_CERTIFICATE\",\n\n  VERIFYING_CERTIFICATE_HASH_SUCCESS: \"VERIFYING_CERTIFICATE_HASH_SUCCESS\",\n  VERIFYING_CERTIFICATE_HASH_FAILURE: \"VERIFYING_CERTIFICATE_HASH_FAILURE\",\n\n  VERIFYING_CERTIFICATE_ISSUED_SUCCESS: \"VERIFYING_CERTIFICATE_ISSUED_SUCCESS\",\n  VERIFYING_CERTIFICATE_ISSUED_FAILURE: \"VERIFYING_CERTIFICATE_ISSUED_FAILURE\",\n\n  VERIFYING_CERTIFICATE_REVOCATION_SUCCESS:\n    \"VERIFYING_CERTIFICATE_REVOCATION_SUCCESS\",\n  VERIFYING_CERTIFICATE_REVOCATION_FAILURE:\n    \"VERIFYING_CERTIFICATE_REVOCATION_FAILURE\",\n\n  VERIFYING_CERTIFICATE_ISSUER_SUCCESS: \"VERIFYING_CERTIFICATE_ISSUER_SUCCESS\",\n  VERIFYING_CERTIFICATE_ISSUER_FAILURE: \"VERIFYING_CERTIFICATE_ISSUER_FAILURE\",\n\n  VERIFYING_CERTIFICATE_STORE_SUCCESS: \"VERIFYING_CERTIFICATE_STORE_SUCCESS\",\n  VERIFYING_CERTIFICATE_STORE_FAILURE: \"VERIFYING_CERTIFICATE_STORE_FAILURE\",\n\n  SENDING_CERTIFICATE: \"SENDING_CERTIFICATE\",\n  SENDING_CERTIFICATE_SUCCESS: \"SENDING_CERTIFICATE_SUCCESS\",\n  SENDING_CERTIFICATE_FAILURE: \"SENDING_CERTIFICATE_FAILURE\",\n  SENDING_CERTIFICATE_RESET: \"SENDING_CERTIFICATE_RESET\",\n\n  CERTIFICATE_OBFUSCATE_RESET: \"CERTIFICATE_OBFUSCATE_RESET\",\n  CERTIFICATE_OBFUSCATE_UPDATE: \"CERTIFICATE_OBFUSCATE_UPDATE\",\n\n  CERTIFICATE_TEMPLATE_REGISTER: \"CERTIFICATE_TEMPLATE_REGISTER\",\n  CERTIFICATE_TEMPLATE_SELECT_TAB: \"CERTIFICATE_TEMPLATE_SELECT_TAB\"\n};\n\n// Reducers\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case types.RESET_CERTIFICATE:\n    case types.NETWORK_RESET:\n      return {\n        ...initialState\n      };\n    case types.UPDATE_CERTIFICATE:\n      return {\n        ...initialState,\n        raw: action.payload,\n        rawModified: action.payload,\n        store: null,\n        storeError: null,\n        storeLoading: true\n      };\n    case types.LOADING_STORE_SUCCESS:\n      return {\n        ...state,\n        store: action.payload,\n        storeError: null,\n        storeLoading: false\n      };\n    case types.LOADING_STORE_FAILURE:\n      return {\n        ...state,\n        storeError: action.payload,\n        storeLoading: false\n      };\n    case types.VERIFYING_CERTIFICATE:\n      return {\n        ...state,\n        issuerIdentities: null,\n        certificateHash: false,\n        certificateIssued: false,\n        certificateNotRevoked: false,\n        certificateIssuer: false,\n        certificateStore: false,\n\n        certificateHashVerifying: true,\n        certificateIssuedVerifying: true,\n        certificateNotRevokedVerifying: true,\n        certificateIssuerVerifying: true,\n        certificateStoreVerifying: true,\n\n        certificateHashError: null,\n        certificateIssuedError: null,\n        certificateNotRevokedError: null,\n        certificateIssuerError: null,\n        certificateStoreError: null,\n\n        verificationStatus: []\n      };\n    case types.VERIFYING_CERTIFICATE_HASH_SUCCESS:\n      return {\n        ...state,\n        certificateHash: true,\n        certificateHashError: null,\n        certificateHashVerifying: false,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Certificate integrity checked\",\n            warning: false,\n            error: false\n          }\n        ]\n      };\n    case types.VERIFYING_CERTIFICATE_HASH_FAILURE:\n      return {\n        ...state,\n        certificateHash: false,\n        certificateHashError: action.payload,\n        certificateHashVerifying: false,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Certificate has been tampered\",\n            warning: false,\n            error: true\n          }\n        ]\n      };\n    case types.VERIFYING_CERTIFICATE_ISSUED_SUCCESS:\n      return {\n        ...state,\n        certificateIssued: true,\n        certificateIssuedError: null,\n        certificateIssuedVerifying: false,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Certificate has been issued\",\n            warning: false,\n            error: false\n          }\n        ]\n      };\n    case types.VERIFYING_CERTIFICATE_ISSUED_FAILURE:\n      return {\n        ...state,\n        certificateIssued: false,\n        certificateIssuedError: action.payload,\n        certificateIssuedVerifying: false,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Certificate is not issued\",\n            warning: false,\n            error: true\n          }\n        ]\n      };\n    case types.VERIFYING_CERTIFICATE_REVOCATION_SUCCESS:\n      return {\n        ...state,\n        certificateNotRevoked: true,\n        certificateNotRevokedError: null,\n        certificateNotRevokedVerifying: false,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Certificate is issued\",\n            warning: false,\n            error: false\n          }\n        ]\n      };\n    case types.VERIFYING_CERTIFICATE_REVOCATION_FAILURE:\n      return {\n        ...state,\n        certificateNotRevoked: false,\n        certificateNotRevokedError: action.payload,\n        certificateNotRevokedVerifying: false,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Certificate has been revoked\",\n            warning: false,\n            error: true\n          }\n        ]\n      };\n    case types.VERIFYING_CERTIFICATE_ISSUER_SUCCESS:\n      return {\n        ...state,\n        issuerIdentities: action.payload,\n        certificateIssuer: true,\n        certificateIssuerVerifying: false,\n        certificateIssuerError: null,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Known certificate issuer\",\n            warning: false,\n            error: false\n          }\n        ]\n      };\n    case types.VERIFYING_CERTIFICATE_ISSUER_FAILURE:\n      return {\n        ...state,\n        certificateIssuer: false,\n        certificateIssuerVerifying: false,\n        certificateIssuerError: action.payload,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Unknown certificate issuer\",\n            warning: false,\n            error: false\n          }\n        ]\n      };\n    case types.VERIFYING_CERTIFICATE_STORE_SUCCESS:\n      return {\n        ...state,\n        certificateStore: true,\n        certificateStoreError: null,\n        certificateStoreVerifying: false,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Certificate store checked\",\n            warning: false,\n            error: false\n          }\n        ]\n      };\n    case types.VERIFYING_CERTIFICATE_STORE_FAILURE:\n      return {\n        ...state,\n        certificateStore: false,\n        certificateStoreError: action.payload,\n        certificateStoreVerifying: false,\n        verificationStatus: [\n          ...state.verificationStatus,\n          {\n            message: \"Certificate store does not exist\",\n            warning: false,\n            error: true\n          }\n        ]\n      };\n    case types.SENDING_CERTIFICATE:\n      return {\n        ...state,\n        emailState: states.PENDING,\n        emailError: null\n      };\n    case types.SENDING_CERTIFICATE_RESET:\n      return {\n        ...state,\n        emailState: states.INITIAL,\n        emailError: null\n      };\n    case types.SENDING_CERTIFICATE_SUCCESS:\n      return {\n        ...state,\n        emailState: states.SUCCESS,\n        emailError: null\n      };\n    case types.SENDING_CERTIFICATE_FAILURE:\n      return {\n        ...state,\n        emailState: states.FAILURE,\n        emailError: action.payload\n      };\n    case types.CERTIFICATE_OBFUSCATE_RESET:\n      return {\n        ...initialState,\n        rawModified: state.raw\n      };\n    case types.CERTIFICATE_OBFUSCATE_UPDATE:\n      return {\n        ...state,\n        rawModified: action.payload\n      };\n    case types.CERTIFICATE_TEMPLATE_REGISTER:\n      return {\n        ...state,\n        templates: action.payload\n      };\n    case types.CERTIFICATE_TEMPLATE_SELECT_TAB:\n      return {\n        ...state,\n        activeTemplateTab: action.payload\n      };\n    default:\n      return state;\n  }\n}\n\n// Action Creators\nexport function resetCertificateState() {\n  return {\n    type: types.RESET_CERTIFICATE\n  };\n}\n\nexport function updateCertificate(payload) {\n  return {\n    type: types.UPDATE_CERTIFICATE,\n    payload\n  };\n}\n\nexport function verifyCertificate(payload) {\n  return {\n    type: types.VERIFYING_CERTIFICATE,\n    payload\n  };\n}\n\nexport function updateFilteredCertificate(payload) {\n  return {\n    type: types.UPDATE_FILTERED_CERTIFICATE,\n    payload\n  };\n}\n\nexport function verifyingCertificateIssuerSuccess({ issuerIdentities }) {\n  return {\n    type: types.VERIFYING_CERTIFICATE_ISSUER_SUCCESS,\n    payload: issuerIdentities\n  };\n}\n\nexport function verifyingCertificateIssuerFailure({ error }) {\n  return {\n    type: types.VERIFYING_CERTIFICATE_ISSUER_FAILURE,\n    error\n  };\n}\n\nexport function verifyingCertificateStoreSuccess() {\n  return {\n    type: types.VERIFYING_CERTIFICATE_STORE_SUCCESS\n  };\n}\n\nexport function verifyingCertificateStoreFailure({ error }) {\n  return {\n    type: types.VERIFYING_CERTIFICATE_STORE_FAILURE,\n    error\n  };\n}\n\nexport function verifyingCertificateRevocationSuccess() {\n  return {\n    type: types.VERIFYING_CERTIFICATE_REVOCATION_SUCCESS\n  };\n}\n\nexport function verifyingCertificateRevocationFailure({ error }) {\n  return {\n    type: types.VERIFYING_CERTIFICATE_REVOCATION_FAILURE,\n    error\n  };\n}\n\nexport function verifyingCertificateIssuedSuccess() {\n  return {\n    type: types.VERIFYING_CERTIFICATE_ISSUED_SUCCESS\n  };\n}\n\nexport function verifyingCertificateIssuedFailure({ error }) {\n  return {\n    type: types.VERIFYING_CERTIFICATE_ISSUED_FAILURE,\n    error\n  };\n}\n\nexport function verifyingCertificateHashSuccess() {\n  return {\n    type: types.VERIFYING_CERTIFICATE_HASH_SUCCESS\n  };\n}\n\nexport function verifyingCertificateHashFailure({ error }) {\n  return {\n    type: types.VERIFYING_CERTIFICATE_HASH_FAILURE,\n    error\n  };\n}\n\nexport function sendCertificate(payload) {\n  return {\n    type: types.SENDING_CERTIFICATE,\n    payload\n  };\n}\n\nexport function sendCertificateReset() {\n  return {\n    type: types.SENDING_CERTIFICATE_RESET\n  };\n}\n\nexport function resetCertificateObfuscation() {\n  return {\n    type: types.CERTIFICATE_OBFUSCATE_RESET\n  };\n}\n\nexport function updateObfuscatedCertificate(payload) {\n  return {\n    type: types.CERTIFICATE_OBFUSCATE_UPDATE,\n    payload\n  };\n}\n\nexport function registerTemplates(payload) {\n  return {\n    type: types.CERTIFICATE_TEMPLATE_REGISTER,\n    payload\n  };\n}\n\nexport function selectTemplateTab(payload) {\n  return {\n    type: types.CERTIFICATE_TEMPLATE_SELECT_TAB,\n    payload\n  };\n}\n\n// Selectors\nexport function getIssuerIdentityStatus(store) {\n  const {\n    issuerIdentities,\n    certificateIssuerVerifying,\n    certificateIssuerError,\n    certificateIssuer\n  } = store.certificate;\n  return {\n    identities: issuerIdentities,\n    verified: certificateIssuer,\n    verifying: certificateIssuerVerifying,\n    error: certificateIssuerError\n  };\n}\n\nexport function getHashStatus(store) {\n  const {\n    certificateHash,\n    certificateHashError,\n    certificateHashVerifying\n  } = store.certificate;\n  return {\n    verified: certificateHash,\n    verifying: certificateHashVerifying,\n    error: certificateHashError\n  };\n}\n\nexport function getStoreStatus(store) {\n  const {\n    certificateStore,\n    certificateStoreError,\n    certificateStoreVerifying\n  } = store.certificate;\n  return {\n    verified: certificateStore,\n    verifying: certificateStoreVerifying,\n    error: certificateStoreError\n  };\n}\n\nexport function getIssuedStatus(store) {\n  const {\n    certificateIssued,\n    certificateIssuedError,\n    certificateIssuedVerifying\n  } = store.certificate;\n  return {\n    verified: certificateIssued,\n    verifying: certificateIssuedVerifying,\n    error: certificateIssuedError\n  };\n}\n\nexport function getNotRevokedStatus(store) {\n  const {\n    certificateNotRevoked,\n    certificateNotRevokedError,\n    certificateNotRevokedVerifying\n  } = store.certificate;\n  return {\n    verified: certificateNotRevoked,\n    verifying: certificateNotRevokedVerifying,\n    error: certificateNotRevokedError\n  };\n}\n\nexport function getCertificate(store) {\n  return store.certificate.rawModified;\n}\n\nexport function getVerifying(store) {\n  const {\n    certificateIssuerVerifying,\n    certificateHashVerifying,\n    certificateIssuedVerifying,\n    certificateNotRevokedVerifying,\n    certificateStoreVerifying\n  } = store.certificate;\n  return (\n    certificateIssuerVerifying ||\n    certificateHashVerifying ||\n    certificateIssuedVerifying ||\n    certificateNotRevokedVerifying ||\n    certificateStoreVerifying\n  );\n}\n\nexport function getVerified(store) {\n  const hash = getHashStatus(store).verified;\n  const issued = getIssuedStatus(store).verified;\n  const notRevoked = getNotRevokedStatus(store).verified;\n  const identity = getIssuerIdentityStatus(store).verified;\n  const storeStatus = getStoreStatus(store).verified;\n\n  return hash && issued && notRevoked && identity && storeStatus;\n}\n\nexport function getVerificationStatus(store) {\n  return store.certificate.verificationStatus;\n}\n\nexport function getEmailSendingState(store) {\n  return store.certificate.emailState;\n}\n\nexport function getActiveTemplateTab(store) {\n  return store.certificate.activeTemplateTab;\n}\n\nexport function getTemplates(store) {\n  return store.certificate.templates;\n}\n"]},"metadata":{},"sourceType":"module"}